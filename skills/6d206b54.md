# Skill: 6d206b54 - Hierarchical Authority Relations

**Version**: 1.0.0
**Skill ID**: 6d206b54
**Category**: Authority Structure
**Last Updated**: 2025-01-10

---

## 1. Description

This skill defines the rules for establishing and validating hierarchical authority relationships between rules and personnel. The key principle is that authority derives from creation/revision rights for rules and appointment/removal rights for personnel. Agents must enforce strict adherence to these hierarchical principles to prevent unauthorized rule-making or personnel decisions.

## 2. Input Data Structure

```yaml
$schema: https://agentskills.io/schemas/hierarchical_authority
type: object
properties:
  authority_id:
    type: string
    pattern: ^[a-f0-9]{8}$
    description: Unique identifier for this authority relationship
  authority_type:
    type: string
    enum: [rule_hierarchy, personnel_hierarchy, mixed]
    description: Type of authority relationship
    required: true
  entities:
    type: array
    items:
      type: object
      properties:
        entity_id:
          type: string
          description: Unique identifier for the entity
        entity_type:
          type: string
          enum: [rule, person]
          description: Type of entity
        name:
          type: string
          description: Name of the entity
          required: true
        parent_entity_id:
          type: string
          description: ID of the parent entity in hierarchy
        authority_rights:
          type: object
          properties:
            can_create:
              type: boolean
              description: Entity can create subordinate rules/personnel
            can_revise:
              type: boolean
              description: Entity can revise subordinate rules/personnel
            can_appoint:
              type: boolean
              description: Entity can appoint subordinate personnel
            can_remove:
              type: boolean
              description: Entity can remove subordinate personnel
            can_self_revise:
              type: boolean
              description: Entity can revise itself (rules only)
    required:
      - entity_id
      - entity_type
      - name
  hierarchy_chain:
    type: array
    items:
      type: string
    description: Ordered chain from top-level to current entity
    required: true
  validity_status:
    type: string
    enum: [active, suspended, nullified]
    description: Current validity status
    required: true
  procedural_compliance:
    type: object
    properties:
      revision_procedure_followed:
        type: boolean
        description: Whether revision procedures were followed
      appointment_procedure_followed:
        type: boolean
        description: Whether appointment procedures were followed
      higher_authority_valid:
        type: boolean
        description: Whether all higher authorities are valid and active
    required:
      - revision_procedure_followed
      - appointment_procedure_followed
  created_at:
    type: string
    format: date-time
    description: Timestamp of creation
    required: true
```

## 3. Output Data Structure

```yaml
$schema: https://agentskills.io/schemas/authority_validation_result
type: object
properties:
  decision:
    type: string
    enum: [COMPLIANT, IGNORE, CLARIFY]
    description: Compliance decision
  authority_id:
    type: string
    pattern: ^[a-f0-9]{8}$
    description: Reference to authority being validated
  hierarchy_valid:
    type: boolean
    description: Whether the hierarchy structure is valid
  procedural_compliance:
    type: boolean
    description: Whether procedures were followed
  authority_chain_status:
    type: string
    enum: [complete, incomplete, broken]
    description: Status of authority chain
  validation_details:
    type: array
    items:
      type: object
      properties:
        check_type:
          type: string
          description: Type of validation check
        result:
          type: string
          enum: [pass, fail, warning]
        details:
          type: string
          description: Detailed result information
  metadata:
    type: object
    properties:
      validated_by:
        type: string
        description: Agent ID that performed validation
      validated_at:
        type: string
        format: date-time
        description: Timestamp of validation
      applied_norms:
        type: array
        items:
          type: string
        description: List of skill IDs and versions applied
```

## 4. Error Patterns (Auto-Detection)

### 4.1 Revision Without Valid Parent Pattern
```
Pattern: Revision to subordinate rule when parent authority is invalid
Detection Rule:
  - Check 'procedural_compliance.higher_authority_valid'
  - Verify parent entity is active and has revision authority
  - Flag if parent is 'nullified' or 'suspended'
Natural Language Detection:
  "You cannot revise this rule because its parent authority is not
   valid or active. Please resolve the higher-level authority issue
   before proceeding with revisions."
Response: CLARIFY
```

### 4.2 Personnel Appointment Without Authority Pattern
```
Pattern: Personnel appointment by entity without appointment rights
Detection Rule:
  - Check 'authority_rights.can_appoint' for appointing entity
  - Verify appointment authority chain is complete
  - Flag if appointing entity lacks appointment rights
Natural Language Detection:
  "This entity does not have appointment authority. Only entities with
   appointment rights can nominate or discuss personnel appointments.
   Please identify the correct appointing authority."
Response: CLARIFY
```

### 4.3 Unauthorized Self-Revision Pattern
```
Pattern: Rule claiming self-revision rights without explicit authorization
Detection Rule:
  - Check 'authority_rights.can_self_revise'
  - Verify self-revision is explicitly defined in parent rule
  - Flag if self-revision is assumed rather than authorized
Natural Language Detection:
  "Self-revision authority must be explicitly granted by the parent rule.
   Please provide the specific provision that authorizes this rule to
   revise itself."
Response: CLARIFY
```

### 4.4 Broken Authority Chain Pattern
```
Pattern: Authority chain has gaps or missing links
Detection Rule:
  - Validate 'hierarchy_chain' is complete
  - Verify each entity in chain has valid authority
  - Flag any 'nullified' or 'suspended' entities in chain
Natural Language Detection:
  "The authority chain is incomplete or contains invalid entities.
   Please ensure all entities in the hierarchy are valid and the chain
   is fully documented."
Response: CLARIFY
```

### 4.5 Procedure Violation Pattern
```
Pattern: Rule or personnel action without following required procedures
Detection Rule:
  - Check 'procedural_compliance.revision_procedure_followed'
  - Check 'procedural_compliance.appointment_procedure_followed'
  - Flag if procedural requirements are bypassed
Natural Language Detection:
  "Required procedures were not followed for this action. All revisions
   and appointments must follow established procedures. Please restart
   the process with proper procedural compliance."
Response: CLARIFY
```

## 5. Prompt Templates

### 5.1 Hierarchy Establishment Template
```
Establishing hierarchical authority for: {entity_name}

Rule Hierarchy Requirements:
- Identify all parent rules in the chain
- Document creation/revision authority for each level
- Confirm parent rule is active before creating subordinate
- Note: Even if other documents describe hierarchical relationships,
  this framework follows authority-based hierarchy only

Personnel Hierarchy Requirements:
- Identify appointing authority for each position
- Document appointment/removal rights
- Confirm appointing authority is valid before proceeding

Hierarchy Chain:
{chain_description}

Please provide:
1. Complete hierarchy chain with authority sources
2. Evidence of valid authority at each level
3. Procedural compliance documentation
```

### 5.2 Authority Validation Template
```
Validating authority relationship: {authority_id}

Entity: {entity_name}
Type: {authority_type}
Hierarchy Chain: {chain}

Validation Checks:
[ ] All entities in chain are active
[ ] Each entity has required authority rights
[ ] Procedures were followed for creation/revision
[ ] Parent authority is valid and exercisable
[ ] No entities in chain are nullified or suspended

DECISION: {COMPLIANT|IGNORE|CLARIFY}
Failed Checks: {validation_failures}
```

## 6. JSON Example

```json
{
  "authority_id": "6d206b54-001",
  "authority_type": "mixed",
  "entities": [
    {
      "entity_id": "rule-top-001",
      "entity_type": "rule",
      "name": "Corporate Charter",
      "authority_rights": {
        "can_create": true,
        "can_revise": false,
        "can_self_revise": false
      }
    },
    {
      "entity_id": "rule-sub-001",
      "entity_type": "rule",
      "name": "Operating Procedures",
      "parent_entity_id": "rule-top-001",
      "authority_rights": {
        "can_create": true,
        "can_revise": true,
        "can_self_revise": true
      }
    },
    {
      "entity_id": "person-001",
      "entity_type": "person",
      "name": "Director A",
      "parent_entity_id": "rule-top-001",
      "authority_rights": {
        "can_appoint": false,
        "can_remove": false
      }
    }
  ],
  "hierarchy_chain": ["rule-top-001", "rule-sub-001"],
  "validity_status": "active",
  "procedural_compliance": {
    "revision_procedure_followed": true,
    "appointment_procedure_followed": true,
    "higher_authority_valid": true
  },
  "created_at": "2025-01-01T00:00:00Z"
}
```

## 7. Validation Rules

| Field | Rule | Error Message |
|-------|------|---------------|
| authority_type | Must be valid enum | "Invalid authority type" |
| entities | Required, minimum 1 | "At least one entity is required" |
| name | Must not be empty | "Entity name is required" |
| hierarchy_chain | Required | "Hierarchy chain is required" |
| validity_status | Must not be 'nullified' for active entities | "Entity is nullified and cannot be used" |
| higher_authority_valid | Must be true | "Parent authority must be valid" |
| revision_procedure_followed | Required for rule revisions | "Revision procedure must be followed" |
| appointment_procedure_followed | Required for appointments | "Appointment procedure must be followed" |

## 8. Dependencies and Relationships

### 8.1 Depends On
- **91ff9448**: Regulatory Compliance Infrastructure - Validates authority enforcement capability

### 8.2 Related Skills
- **12119600**: Branch Version Management - Handles alternative authority interpretations
- **5ab2b2ba**: Leadership Transition Protocol - Related to personnel authority changes

## 9. Error Handling Behaviors

| Error Type | Handling Behavior |
|------------|-------------------|
| Invalid parent authority | REFUSE transmission |
| Unauthorized appointment | REFUSE transmission |
| Procedure violation | REFUSE transmission, require reprocessing |
| Broken authority chain | REFUSE transmission, request chain completion |
| Self-revision without authorization | REFUSE, require explicit authorization |

## 10. Changelog

| Version | Date | Changes |
|---------|------|---------|
| 1.0.0 | 2025-01-10 | Initial release |

---

**End of Skill 6d206b54**
