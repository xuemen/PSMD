# Skill: d0111eb4 - Expected Effect Justification

**Version**: 1.0.0
**Skill ID**: d0111eb4
**Category**: Regulatory Compliance
**Last Updated**: 2025-01-10

---

## 1. Description

This skill defines the requirements for providing justification for expected effects of any proposal. When an agent detects a claim about expected effects, it must ensure the claim is supported by one of three valid justification methods: binding regulations, practical case evidence, or public offers with verification mechanisms.

## 2. Input Data Structure

```yaml
$schema: https://agentskills.io/schemas/justification_claim
type: object
properties:
  claim_id:
    type: string
    pattern: ^[a-f0-9]{8}$
    description: Unique identifier for this justification claim
  expected_effect:
    type: string
    description: Description of the expected effect being claimed
    required: true
  proposal_context:
    type: string
    description: Context or proposal this effect relates to
    required: true
  justification_type:
    type: string
    enum: [regulation, case_evidence, public_offer]
    description: Method of justification being provided
    required: true
  justification_details:
    type: object
    properties:
      regulation_reference:
        type: string
        description: Reference to binding regulation
      case_evidence:
        type: object
        properties:
          source_url:
            type: string
            format: uri
            description: URL to case evidence source
          uncontrollability_statement:
            type: string
            description: Statement confirming cases are outside parties' control
            required: true
          probability_estimates:
            type: array
            items:
              type: object
              properties:
                outcome:
                  type: string
                probability:
                  type: number
                  minimum: 0
                  maximum: 1
          jurisdiction:
            type: string
            description: Jurisdiction of the case evidence
        public_offer_details:
          type: object
          properties:
            is_official_duty:
              type: boolean
              description: Whether this is official duty requiring public disclosure
              required: true
            verification_plan:
              type: string
              description: Plan for post-verification disclosure
            performance_based_compensation:
              type: boolean
              description: Whether compensation is tied to achieving the effect
          submitted_by:
            type: string
            description: Identifier of party submitting the justification
            required: true
          submitted_at:
            type: string
            format: date-time
            description: Timestamp of submission
            required: true
        required:
          - expected_effect
          - proposal_context
          - justification_type
          - submitted_by
          - submitted_at
```

## 3. Output Data Structure

```yaml
$schema: https://agentskills.io/schemas/justification_result
type: object
properties:
  decision:
    type: string
    enum: [COMPLIANT, IGNORE, CLARIFY]
    description: Compliance decision
  justification_id:
    type: string
    pattern: ^[a-f0-9]{8}$
    description: Reference to the justification being evaluated
  validation_errors:
    type: array
    items:
      type: string
    description: List of validation errors if not compliant
  suggestions:
    type: array
    items:
      type: string
    description: Suggestions for achieving compliance
  metadata:
    type: object
    properties:
      validated_by:
        type: string
        description: Agent ID that performed validation
      validated_at:
        type: string
        format: date-time
        description: Timestamp of validation
      applied_norms:
        type: array
        items:
          type: string
        description: List of skill IDs and versions applied
```

## 4. Error Patterns (Auto-Detection)

### 4.1 Missing Justification Pattern
```
Pattern: Claim about expected effect without supporting evidence
Detection Rule: 
  - Check if 'justification_type' field exists
  - Verify 'justification_details' is not empty
  - Confirm at least one valid justification method is provided
Natural Language Detection:
  "This claim lacks any supporting evidence for its expected effect.
   Please provide one of: (1) binding regulation, (2) practical case evidence 
   with uncontrollability statement, or (3) a public offer with verification plan."
Response: CLARIFY
```

### 4.2 Case Evidence Incomplete Pattern
```
Pattern: Case evidence missing required components
Detection Rule:
  - For justification_type == 'case_evidence':
    - Verify 'uncontrollability_statement' is present
    - Check 'probability_estimates' exists when multiple outcomes
    - Confirm 'source_url' is valid URI
Natural Language Detection:
  "Case evidence requires: (1) confirmation that cases are outside 
   parties' control, (2) probability estimates for multiple outcomes,
   and (3) verifiable source URL."
Response: CLARIFY
```

### 4.3 Public Offer Incomplete Pattern
```
Pattern: Public offer missing required components
Detection Rule:
  - For justification_type == 'public_offer':
    - Verify 'is_official_duty' boolean
    - Check 'verification_plan' exists
    - Confirm 'performance_based_compensation' is specified
Natural Language Detection:
  "Public offer requires: (1) official duty status disclosure,
   (2) verification plan for post-results disclosure, and
   (3) compensation structure tied to achieving effect."
Response: CLARIFY
```

### 4.4 Invalid Regulation Reference Pattern
```
Pattern: Regulation reference missing or invalid
Detection Rule:
  - For justification_type == 'regulation':
    - Check 'regulation_reference' is not empty
    - Verify reference can be traced to authoritative source
Natural Language Detection:
  "Please provide a specific regulation reference that guarantees
   the expected effect. The reference must be traceable to an
   authoritative legal source."
Response: CLARIFY
```

## 5. Prompt Templates

### 5.1 Initial Request Template
```
You are making a claim about the expected effect: {expected_effect}

According to protocol norms, you must provide justification using ONE of these methods:

METHOD 1: Binding Regulation
- Provide specific regulation reference that guarantees this effect
- The regulation must have legal force

METHOD 2: Practical Case Evidence
- Cases must be from situations outside all parties' control
- If multiple outcomes are possible, provide probability estimates
- Source must be verifiable

METHOD 3: Public Offer
- If this is official duty: You must publicly disclose and accept post-verification
- If compensation is involved: It must be tied to achieving the effect

Which method will you use? Please provide the required details.
```

### 5.2 Compliance Validation Template
```
Reviewing justification for expected effect: {expected_effect}

Justification Type: {justification_type}
Details: {justification_details_json}

Validation Checklist:
[ ] Justification type is specified
[ ] Required details for this type are complete
[ ] Evidence can be independently verified
[ ] For case evidence: uncontrollability is confirmed
[ ] For public offer: verification plan exists

DECISION: {COMPLIANT|IGNORE|CLARIFY}
If CLARIFY, list missing elements: {validation_errors}
```

## 6. JSON Example

```json
{
  "claim_id": "d0111eb4-001",
  "expected_effect": "Implementation will reduce processing time by 40%",
  "proposal_context": "Workflow optimization proposal for document processing",
  "justification_type": "case_evidence",
  "justification_details": {
    "source_url": "https://example.org/case-studies/workflow-optimization",
    "uncontrollability_statement": "These case studies are from unrelated organizations in different industries with no control relationship to our organization",
    "probability_estimates": [
      {"outcome": "40% reduction", "probability": 0.65},
      {"outcome": "30% reduction", "probability": 0.25},
      {"outcome": "20% reduction", "probability": 0.10}
    ],
    "jurisdiction": "Cross-industry analysis"
  },
  "submitted_by": "user_agent_001",
  "submitted_at": "2025-01-10T14:30:00Z"
}
```

## 7. Validation Rules

| Field | Rule | Error Message |
|-------|------|---------------|
| expected_effect | Must not be empty | "Expected effect description is required" |
| justification_type | Must be one of: regulation, case_evidence, public_offer | "Invalid justification type" |
| justification_details | Required if justification_type specified | "Justification details are required" |
| source_url | Must be valid URI format | "Source URL must be valid URI" |
| probability | Must be between 0 and 1 | "Probability must be between 0 and 1" |
| uncontrollability_statement | Required for case_evidence | "Uncontrollability statement is required" |
| is_official_duty | Required for public_offer | "Official duty status is required" |
| verification_plan | Required for public_offer | "Verification plan is required" |

## 8. Dependencies and Relationships

### 8.1 Depends On
- **dbe32f79**: Behavioral Verification - Used when case evidence needs verification
- **600f6f80**: Regulatory Justification - Related when regulation references are questioned

### 8.2 Related Skills
- **91ff9448**: Regulatory Compliance Infrastructure - Framework for enforcement
- **6d206b54**: Hierarchical Authority - Context for regulation validity

## 9. Error Handling Behaviors

| Error Type | Handling Behavior |
|------------|-------------------|
| Missing justification | REFUSE transmission, request CLARIFICATION |
| Incomplete evidence | REFUSE transmission, specify missing elements |
| Unverifiable source | WARN and flag for review, do not auto-reject |
| Probabilities don't sum to 1 | CLARIFY with user to correct estimates |
| Missing uncontrollability statement | REFUSE transmission, require statement |

## 10. Changelog

| Version | Date | Changes |
|---------|------|---------|
| 1.0.0 | 2025-01-10 | Initial release |

---

**End of Skill d0111eb4**
